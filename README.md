# Archery Auto Tracker – 射箭動作追蹤系統
Archery Auto Tracker for training

這是一個基於 MediaPipe Pose 的網頁應用，用於自動追蹤射箭動作中的手肘軌跡，並提供可視化的路徑記錄與動作階段識別。

---

## 🎬 演示影片

<!-- 請在此處貼上 YouTube 影片連結或嵌入代碼 -->
[![Archery Auto Tracker Demo](https://img.youtube.com/vi/YOUTUBE_VIDEO_ID/0.jpg)](https://www.youtube.com/watch?v=YOUTUBE_VIDEO_ID)

---

## 🎯 專案簡介

本專案透過瀏覽器的攝影機即時捕捉射箭者的姿勢，自動識別 **Setup（準備）** 與 **Release（釋放）** 動作階段，並繪製手肘運動軌跡，適合用於射箭訓練、動作分析與姿勢校正。

---

## ✨ 主要功能

- **即時姿勢偵測**：使用 MediaPipe Pose 模型偵測人體關鍵點
- **自動階段識別**：
  - **Setup（準備）**：手肘高於肩膀時自動開始記錄軌跡
  - **Release（釋放）**：手腕移動至肩膀左側時停止記錄，進入冷卻時間
- **視覺化軌跡繪製**：以綠色線條即時繪製手肘移動路徑
- **冷卻保護機制**：完成一次記錄後，系統會進入 5 秒冷卻，避免誤觸發
- **前後鏡頭切換**：支援切換前後攝影機
- **路徑清除**：可隨時清空當前記錄的軌跡點
- **狀態顯示面板**：即時顯示系統狀態與記錄點數

---

## 🛠 技術細節

### 使用技術
- **MediaPipe Pose**：用於人體姿態估計
- **HTML5 Canvas**：用於繪製關鍵點與軌跡線條
- **Vanilla JavaScript**：實現邏輯與互動
- **CSS3**：界面樣式與動畫

### 關鍵點對應
- 右手肘：Landmark #14
- 右肩：Landmark #12
- 右手腕：Landmark #16
- 右耳：Landmark #8（可選顯示）

### 演算法說明
1. **準備階段偵測**：當手肘持續高於肩膀超過 0.2 秒，系統進入記錄模式。
2. **釋放階段偵測**：當手腕移動至肩膀左側時，系統停止記錄並進入冷卻。
3. **路徑繪製**：記錄期間持續儲存手肘座標，並以綠色線條繪製。

---

## 🚀 使用方法

1. 使用瀏覽器開啟 `index.html`。
2. 允許網頁存取攝影機。
3. 將上半身置於畫面中，系統會自動偵測姿勢。
4. 當手肘舉起（高於肩膀）並保持 0.2 秒，系統會開始記錄軌跡（狀態顯示「正在記錄路徑」）。
5. 完成釋放動作後，系統會停止記錄並進入 5 秒冷卻。
6. 可使用下方按鈕：
   - **鏡頭切換**：切換前後鏡頭
   - **清除軌跡**：清空目前記錄的軌跡

---

## 📌 注意事項

- 建議在光線充足、背景單純的環境下使用。
- 系統需持續偵測到人體姿勢才能運作。
- 冷卻期間系統不會觸發新的記錄。
- 目前僅支援右手射箭者（可透過修改關鍵點索引調整為左手）。

---

## 📈 未來擴充建議

- 匯出軌跡資料為 CSV 或 JSON
- 加入動作分析報告（速度、穩定度、角度變化）
- 加入語音提示功能
- 提供訓練模式與目標對比

---

## 📄 授權

本專案僅供學習與研究使用，採用開放原始碼方式釋出。

---

## 👨‍💻 作者

由 Ray Lao 開發，基於 MediaPipe 與 Web 技術實現。

---

如果有任何問題或建議，歡迎提出 Issue 或聯絡開發團隊。
